# Reading "Creating custom JavaScript syntax with Babel"

## Installing Tan Liu Babel fork

I started forking Tan Liu babel fork of the repo instead of the main Babel repo and then I clone my fork:

```sh
gh repo clone ULL-ESIT-PL/babel-tanhauhau
```

Then I realized that I have to install yarn and gulp to build the project.

```sh
➜  babel-tanhauhau git:(master) pwd -P
/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau
babel-tanhauhau git:(master) npm i -g yarn 
babel-tanhauhau git:(master) npm i -g gulp
```

then I proceed to make the bootstrap:

```sh
➜  babel-tanhauhau git:(master) make bootstrap
```
I was using node v21.2.0.
There were errors with node-gyp. node-gyp is a cross-platform command-line tool written in Node.js for compiling native addon modules for Node.js. It contains a vendored copy of the gyp-next project that was previously used by the Chromium team and extended to support the development of Node.js native addons:

```sh
gyp info find Python using Python version 3.11.4 found at \"/Users/casianorodriguezleon/.pyenv/versions/3.11.4/bin/python\"
(node:29944) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
gyp ERR! UNCAUGHT EXCEPTION 
gyp ERR! stack TypeError: Cannot assign to read only property 'cflags' of object '#<Object>'
gyp ERR! stack     at createConfigFile (/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/node-gyp/lib/configure.js:118:21)
gyp ERR! stack     at /Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/node-gyp/lib/configure.js:85:9
gyp ERR! stack     at /Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/mkdirp/index.js:30:20
gyp ERR! stack     at FSReqCallback.oncomplete (node:fs:189:23)
gyp ERR! System Darwin 23.5.0
gyp ERR! command \"/Users/casianorodriguezleon/.nvm/versions/node/v21.2.0/bin/node\" \"/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/node-gyp/bin/node-gyp.js\" \"configure\" \"--fallback-to-build\" \"--module=/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/lib/binding/Release/node-v120-darwin-x64/fse.node\" \"--module_name=fse\" \"--module_path=/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/lib/binding/Release/node-v120-darwin-x64\" \"--napi_version=9\" \"--node_abi_napi=napi\" \"--napi_build_version=0\" \"--node_napi_label=node-v120\"
gyp ERR! cwd /Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents
gyp ERR! node -v v21.2.0
gyp ERR! node-gyp -v v5.0.5
gyp ERR! This is a bug in `node-gyp`.
gyp ERR! Try to update node-gyp and file an Issue if it does not help:
gyp ERR!     <https://github.com/nodejs/node-gyp/issues>
node-pre-gyp ERR! build error 
node-pre-gyp ERR! stack Error: Failed to execute '/Users/casianorodriguezleon/.nvm/versions/node/v21.2.0/bin/node /Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/lib/binding/Release/node-v120-darwin-x64/fse.node --module_name=fse --module_path=/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/lib/binding/Release/node-v120-darwin-x64 --napi_version=9 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v120' (7)
node-pre-gyp ERR! stack     at ChildProcess.<anonymous> (/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/node_modules/node-pre-gyp/lib/util/compile.js:83:29)
node-pre-gyp ERR! stack     at ChildProcess.emit (node:events:519:28)
node-pre-gyp ERR! stack     at maybeClose (node:internal/child_process:1105:16)
node-pre-gyp ERR! stack     at ChildProcess._handle.onexit (node:internal/child_process:305:5)
node-pre-gyp ERR! System Darwin 23.5.0
node-pre-gyp ERR! command \"/Users/casianorodriguezleon/.nvm/versions/node/v21.2.0/bin/node\" \"/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/node_modules/node-pre-gyp/bin/node-pre-gyp\" \"install\" \"--fallback-to-build\"
node-pre-gyp ERR! cwd /Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents
node-pre-gyp ERR! node -v v21.2.0
node-pre-gyp ERR! node-pre-gyp -v v0.12.0
node-pre-gyp ERR! not ok 
Failed to execute '/Users/casianorodriguezleon/.nvm/versions/node/v21.2.0/bin/node /Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/node-gyp/bin/node-gyp.js configure --fallback-to-build --module=/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/lib/binding/Release/node-v120-darwin-x64/fse.node --module_name=fse --module_path=/Users/casianorodriguezleon/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/node_modules/fsevents/lib/binding/Release/node-v120-darwin-x64 --napi_version=9 --node_abi_napi=napi --napi_build_version=0 --node_napi_label=node-v120' (7)"
✨  Done in 29.07s.
```

thus I tried again, this time with node v20.

```sh
➜  babel-tanhauhau git:(master) nvm use v20
Now using node v20.5.0 (npm v9.8.0)
➜  babel-tanhauhau git:(master) make bootstrap
```

It took a while to build the project, but there were no errors:

```sh
...
[12:33:49] Skipped minification of 'babel-tanhauhau/packages/babel-standalone/babel.js' because not publishing
[12:33:49] Finished 'build-babel-standalone' after 29 s
```
Thus I proceed to the `make build`:

```sh
babel-tanhauhau git:(master) make build
...
[12:37:46] Skipped minification of 'babel-tanhauhau/packages/babel-standalone/babel.js' because not publishing
[12:37:46] Finished 'build-babel-standalone' after 18 s
```
I then runned the tests. Most of them passed but there were some errors. For instance:

```sh
 FAIL  packages/babel-plugin-transform-dotall-regex/test/index.js
  ● babel-plugin-transform-dotall-regex/dotall regex › with unicode property escape
```

I will try to fix them later.

Babel uses a monorepo structure, all the packages, eg: 
`@babel/core`, 
`@babel/parser`, 
`@babel/plugin-transform-react-jsx`, 
etc 
are in the `packages/` folder:

```
➜  babel-tanhauhau git:(master) tree -aL 1
.
├── Gulpfile.js
├── Makefile
├── README.md
├── babel.config.js
├── codemods
├── doc
├── jest.config.js
├── lerna.json
├── lib
├── node_modules
├── package.json
└── packages
       └──
          ├── babel-cli
          ├── babel-generator
          ├── babel-helper-...
          ├── babel-node
          ├── babel-parser
          ├── babel-plugin-...
          ├── babel-plugin-proposal-async-generator-functions
          ├── babel-plugin-syntax-...
          ├── babel-plugin-syntax-jsx
          ├── babel-plugin-syntax-typescript
          ├── babel-plugin-transform-...
          ├── babel-polyfill
          ├── babel-preset-env
          ├── babel-preset-flow
          ├── babel-preset-react
          ├── babel-preset-typescript
          ├── babel-register
          ├── babel-runtime...
          ├── babel-standalone
          ├── babel-template
          ├── babel-traverse
          └── babel-types
          ├── scripts
          └── test
```

## Our custom babel parser

The folder we are going to work on is `packages/babel-parser/`:

```
➜  babel-tanhauhau git:(master) cd packages/babel-parser 
typings
➜  babel-parser git:(master) tree -I node_modules -aL 2
.
├── AUTHORS
├── CHANGELOG.md
├── LICENSE
├── README.md
├── ast
│   ├── flow.md
│   ├── jsx.md
│   └── spec.md
├── bin
│   └── babel-parser.js
├── lib
│   └── index.js
├── package.json
├── src
│   ├── index.js
│   ├── options.js
│   ├── parser
│   │   ├── base.js
│   │   ├── comments.js
│   │   ├── error-message.js
│   │   ├── error.js
│   │   ├── expression.js
│   │   ├── index.js
│   │   ├── lval.js
│   │   ├── node.js
│   │   ├── statement.js
│   │   └── util.js
│   ├── plugin-utils.js
│   ├── plugins
│   │   ├── estree.js
│   │   ├── flow.js
│   │   ├── jsx
│   │   ├── placeholders.js
│   │   ├── typescript
│   │   └── v8intrinsic.js
│   ├── tokenizer
│   │   ├── context.js
│   │   ├── index.js
│   │   ├── state.js
│   │   └── types.js
│   ├── types.js
│   └── util
│       ├── class-scope.js
│       ├── identifier.js
│       ├── location.js
│       ├── production-parameter.js
│       ├── scope.js
│       ├── scopeflags.js
│       └── whitespace.js
├── test
│   ├── estree-throws.js
│   ├── expressions
│   ├── expressions.js
│   ├── fixtures
│   ├── helpers
│   ├── index.js
│   ├── plugin-options.js
│   └── unit
└── typings
    └── babel-parser.d.ts

14 directories, 19 files
```

It's clear where to find the code for each process. 
`plugins/` folder contains plugins that extend the base parser and add custom syntaxes, 
such as `jsx` and `flow`.

> Let's do a Test-driven development (TDD). 
> I find it easier to define the test case then slowly work our way to "fix" it. 
> It is especially true in an unfamiliar codebase, 
> TDD allows you to "easily" point out code places you need to change.

I copy the test file `test/curry-function.js` from the article:

```js
 ➜  babel-parser git:(master) ✗ cat test/curry-function.js 
import { parse } from '../lib';

function getParser(code) {
  return () => parse(code, { sourceType: 'module' });
}

describe('curry function syntax', function() {
  it('should parse', function() {
    expect(getParser(`function @@ foo() {}`)()).toMatchSnapshot();
  });
});
```

and run `make test-only` from the root of the project:

```sh
➜  babel-parser git:(master) ✗ TEST_ONLY=babel-parser TEST_GREP="curry function" make test-only
make: *** No rule to make target `test-only'.  Stop.
➜  babel-parser git:(master) ✗ cd ..
➜  packages git:(master) ✗ cd ..
➜  babel-tanhauhau git:(master) ✗ TEST_ONLY=babel-parser TEST_GREP="curry function" make test-only
BABEL_ENV=test ./scripts/test.sh
 FAIL  packages/babel-parser/test/curry-function.js
  ● curry function syntax › should parse

    SyntaxError: Unexpected token (1:9)

      752 | 
      753 |   _raise(errorContext, message) {
    > 754 |     const err = new SyntaxError(message);
          |                 ^
      755 |     Object.assign(err, errorContext);
      756 | 
      757 |     if (this.options.errorRecovery) {

      at Parser._raise (packages/babel-parser/lib/index.js:754:17)
      at Parser.raiseWithData (packages/babel-parser/lib/index.js:747:17)
      at Parser.raise (packages/babel-parser/lib/index.js:741:17)
      at Parser.unexpected (packages/babel-parser/lib/index.js:8844:16)
      at Parser.parseIdentifierName (packages/babel-parser/lib/index.js:10863:18)
      at Parser.parseIdentifier (packages/babel-parser/lib/index.js:10840:23)
      at Parser.parseFunctionId (packages/babel-parser/lib/index.js:11927:55)
      at Parser.parseFunction (packages/babel-parser/lib/index.js:11893:22)
      at Parser.parseFunctionStatement (packages/babel-parser/lib/index.js:11542:17)
      at Parser.parseStatementContent (packages/babel-parser/lib/index.js:11234:21)


Test Suites: 1 failed, 7 skipped, 1 of 8 total
Tests:       1 failed, 5255 skipped, 5256 total
Snapshots:   0 total
Time:        6.598s, estimated 11s
Ran all test suites matching /(packages|codemods|eslint)\/.*babel-parser.*\/test/i with tests matching "curry function".
make: *** [test-only] Error 1
```
I guess that the environment variables `TEST_ONLY=babel-parser TEST_GREP="curry function"`
set the test to run only the `babel-parser` tests and to grep for the string `curry function`.

The same thing happens when I run the test using `jest`:

```sh
➜  babel-tanhauhau git:(master) ✗ BABEL_ENV=test npx jest -u packages/babel-parser/test/curry-function.js

 FAIL  packages/babel-parser/test/curry-function.js
  curry function syntax
    ✕ should parse (6ms)

  ● curry function syntax › should parse

    SyntaxError: Unexpected token (1:9)

      752 | 
      753 |   _raise(errorContext, message) {
    > 754 |     const err = new SyntaxError(message);
          |                 ^
      755 |     Object.assign(err, errorContext);
      756 | 
      757 |     if (this.options.errorRecovery) {

      at Parser._raise (packages/babel-parser/lib/index.js:754:17)
      at Parser.raiseWithData (packages/babel-parser/lib/index.js:747:17)
      at Parser.raise (packages/babel-parser/lib/index.js:741:17)
      at Parser.unexpected (packages/babel-parser/lib/index.js:8844:16)
      at Parser.parseIdentifierName (packages/babel-parser/lib/index.js:10863:18)
      at Parser.parseIdentifier (packages/babel-parser/lib/index.js:10840:23)
      at Parser.parseFunctionId (packages/babel-parser/lib/index.js:11927:55)
      at Parser.parseFunction (packages/babel-parser/lib/index.js:11893:22)
      at Parser.parseFunctionStatement (packages/babel-parser/lib/index.js:11542:17)
      at Parser.parseStatementContent (packages/babel-parser/lib/index.js:11234:21)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 1 total
Snapshots:   0 total
Time:        1.273s
Ran all test suites matching /packages\/babel-parser\/test\/curry-function.js/i.
```

The environment variable `BABEL_ENV=test` is used to set the environment to test.

> Our parser found 2 seemingly innocent `@` tokens at a place where they shouldn't be present.

> How do I know that? Let's start the watch mode, `make watch`, wear our detective cap 🕵️‍ and start digging!

In the `Makefile` we find this task `watch`:

```Makefile
watch: build-no-bundle
	BABEL_ENV=development $(YARN) gulp watch
```
and in the `Gulpfile.js` we find the `watch` task:

```js
gulp.task(
  "watch",
  gulp.series("build-no-bundle", function watch() {
    gulp.watch(defaultSourcesGlob, gulp.task("build-no-bundle"));
  })
);
```

Whe I do `make watch` I see the following output:

```sh
➜  babel-tanhauhau git:(master) ✗ make watch
rm -rf  packages/*/test/tmp
rm -rf  packages/*/test-fixtures.json
rm -rf  codemods/*/test/tmp
rm -rf  codemods/*/test-fixtures.json
rm -rf  eslint/*/test/tmp
rm -rf  eslint/*/test-fixtures.json
rm -f .npmrc
rm -rf packages/babel-polyfill/browser*
rm -rf packages/babel-polyfill/dist
rm -rf coverage
rm -rf packages/*/npm-debug*
rm -rf  packages/*/lib
rm -rf  codemods/*/lib
rm -rf  eslint/*/lib
BABEL_ENV=development yarn --silent gulp build-no-bundle
[16:25:24] Using gulpfile ~/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/gulpfile.js
[16:25:24] Starting 'build-no-bundle'...
[16:25:25] Compiling 'codemods/babel-plugin-codemod-object-assign-to-object-spread/src/index.js'...
[16:25:25] Compiling 'codemods/babel-plugin-codemod-optional-catch-binding/src/index.js'...
@babel/preset-env: `DEBUG` option

Using targets:
{
  "node": "21.2"
}

Using modules transform: false

Using plugins:
  syntax-numeric-separator { "node":"21.2" }
  proposal-class-properties { "node":"21.2" }
  proposal-private-methods { "node":"21.2" }
  syntax-nullish-coalescing-operator { "node":"21.2" }
  syntax-optional-chaining { "node":"21.2" }
  syntax-json-strings { "node":"21.2" }
  syntax-optional-catch-binding { "node":"21.2" }
  syntax-async-generators { "node":"21.2" }
  syntax-object-rest-spread { "node":"21.2" }
  syntax-dynamic-import { "node":"21.2" }

Using polyfills: No polyfills were added, since the `useBuiltIns` option was not set.
[16:25:25] Compiling 'eslint/babel-eslint-parser/src/analyze-scope.js'...
[16:25:25] Compiling 'eslint/babel-eslint-parser/src/configuration.js'...
[16:25:25] Compiling 'eslint/babel-eslint-parser/src/index.js'...
[16:25:25] Compiling 'eslint/babel-eslint-parser/src/visitor-keys.js'...
[16:25:25] Compiling 'eslint/babel-eslint-plugin/src/index.js'...
[16:25:25] Compiling 'eslint/babel-eslint-plugin-development/src/index.js'...
[16:25:25] Compiling 'packages/babel-cli/src/babel-external-helpers.js'...
[16:25:25] Compiling 'packages/babel-code-frame/src/index.js'...
[16:25:25] Compiling 'packages/babel-core/src/index.js'...
[16:25:25] Compiling 'packages/babel-core/src/parse.js'...
[16:25:25] Compiling 'packages/babel-core/src/transform-ast.js'...
[16:25:25] Compiling 'packages/babel-core/src/transform-file-browser.js'...
[16:25:25] Compiling 'packages/babel-core/src/transform-file.js'...
[16:25:25] Compiling 'packages/babel-core/src/transform.js'...
[16:25:25] Compiling 'packages/babel-generator/src/buffer.js'...
[16:25:25] Compiling 'packages/babel-generator/src/index.js'...
[16:25:25] Compiling 'packages/babel-generator/src/printer.js'...
[16:25:25] Compiling 'packages/babel-generator/src/source-map.js'...
[16:25:25] Compiling 'packages/babel-helper-annotate-as-pure/src/index.js'...
[16:25:25] Compiling 'packages/babel-helper-builder-react-jsx/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-builder-react-jsx-experimental/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-bindify-decorators/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-builder-binary-assignment-operator-visitor/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-call-delegate/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/debug.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/filter-items.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/options.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/pretty.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/targets.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/types.js'...
[16:25:26] Compiling 'packages/babel-helper-compilation-targets/src/utils.js'...
[16:25:26] Compiling 'packages/babel-helper-create-class-features-plugin/src/decorators.js'...
[16:25:26] Compiling 'packages/babel-helper-create-class-features-plugin/src/features.js'...
[16:25:26] Compiling 'packages/babel-helper-create-class-features-plugin/src/fields.js'...
[16:25:26] Compiling 'packages/babel-helper-create-class-features-plugin/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-create-class-features-plugin/src/misc.js'...
[16:25:26] Compiling 'packages/babel-helper-create-class-features-plugin/src/typescript.js'...
[16:25:26] Compiling 'packages/babel-helper-create-regexp-features-plugin/src/features.js'...
[16:25:26] Compiling 'packages/babel-helper-create-regexp-features-plugin/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-create-regexp-features-plugin/src/util.js'...
[16:25:26] Compiling 'packages/babel-helper-define-map/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-explode-assignable-expression/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-explode-class/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-fixtures/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-function-name/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-get-function-arity/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-hoist-variables/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-member-expression-to-functions/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-module-imports/src/import-builder.js'...
[16:25:26] Compiling 'packages/babel-helper-module-imports/src/import-injector.js'...
[16:25:26] Compiling 'packages/babel-helper-module-imports/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-module-imports/src/is-module.js'...
[16:25:26] Compiling 'packages/babel-helper-optimise-call-expression/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-module-transforms/src/get-module-name.js'...
[16:25:26] Compiling 'packages/babel-helper-module-transforms/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-module-transforms/src/normalize-and-load-metadata.js'...
[16:25:26] Compiling 'packages/babel-helper-module-transforms/src/rewrite-live-references.js'...
[16:25:26] Compiling 'packages/babel-helper-module-transforms/src/rewrite-this.js'...
[16:25:26] Compiling 'packages/babel-helper-plugin-test-runner/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-plugin-utils/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-regex/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-remap-async-to-generator/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-replace-supers/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-split-export-declaration/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-transform-fixture-test-runner/src/helpers.js'...
[16:25:26] Compiling 'packages/babel-helper-transform-fixture-test-runner/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-simple-access/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-validator-identifier/src/identifier.js'...
[16:25:26] Compiling 'packages/babel-helper-validator-identifier/src/index.js'...
[16:25:26] Compiling 'packages/babel-helper-validator-identifier/src/keyword.js'...
[16:25:26] Compiling 'packages/babel-helper-wrap-function/src/index.js'...
[16:25:26] Compiling 'packages/babel-helpers/src/helpers.js'...
[16:25:26] Compiling 'packages/babel-helpers/src/index.js'...
[16:25:26] Compiling 'packages/babel-highlight/src/index.js'...
[16:25:26] Compiling 'packages/babel-node/src/_babel-node.js'...
[16:25:26] Compiling 'packages/babel-node/src/babel-node.js'...
[16:25:26] Compiling 'packages/babel-parser/src/index.js'...
[16:25:26] Compiling 'packages/babel-parser/src/options.js'...
[16:25:26] Compiling 'packages/babel-parser/src/plugin-utils.js'...
[16:25:26] Compiling 'packages/babel-parser/src/types.js'...
[16:25:27] Compiling 'packages/babel-plugin-external-helpers/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-async-generator-functions/src/for-await.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-async-generator-functions/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-class-properties/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-decorators/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-decorators/src/transformer-legacy.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-do-expressions/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-dynamic-import/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-export-default-from/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-export-namespace-from/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-function-bind/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-function-sent/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-json-strings/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-logical-assignment-operators/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-nullish-coalescing-operator/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-numeric-separator/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-object-rest-spread/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-optional-catch-binding/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-optional-chaining/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-partial-application/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-private-methods/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-pipeline-operator/src/buildOptimizedSequenceExpression.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-pipeline-operator/src/fsharpVisitor.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-pipeline-operator/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-pipeline-operator/src/minimalVisitor.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-pipeline-operator/src/smartVisitor.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-private-property-in-object/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-throw-expressions/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-proposal-unicode-property-regex/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-class-properties/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-decorators/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-do-expressions/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-export-default-from/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-flow/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-function-bind/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-import-meta/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-function-sent/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-logical-assignment-operators/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-module-attributes/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-jsx/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-numeric-separator/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-partial-application/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-pipeline-operator/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-record-and-tuple/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-throw-expressions/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-top-level-await/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-arrow-functions/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-syntax-typescript/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-async-to-generator/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-block-scoped-functions/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-block-scoping/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-block-scoping/src/tdz.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-classes/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-classes/src/inline-createSuper-helpers.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-classes/src/transformClass.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-destructuring/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-computed-properties/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-dotall-regex/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-duplicate-keys/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-exponentiation-operator/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-flow-comments/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-flow-strip-types/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-for-of/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-for-of/src/no-helper-implementation.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-instanceof/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-function-name/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-jscript/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-literals/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-member-expression-literals/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-modules-amd/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-modules-commonjs/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-modules-systemjs/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-modules-umd/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-named-capturing-groups-regex/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-new-target/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-object-assign/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-object-set-prototype-of-to-assign/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-object-super/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-parameters/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-parameters/src/params.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-parameters/src/rest.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-property-literals/src/index.js'...
[16:25:27] Compiling 'packages/babel-plugin-transform-property-mutators/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-proto-to-assign/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-constant-elements/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-inline-elements/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-jsx/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-jsx/src/transform-automatic.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-jsx/src/transform-classic.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-display-name/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-jsx-development/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-jsx-self/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-jsx-compat/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-pure-annotations/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-react-jsx-source/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-regenerator/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-runtime/src/helpers.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-runtime/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-runtime/src/runtime-corejs2-definitions.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-runtime/src/runtime-corejs3-definitions.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-reserved-words/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-spread/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-shorthand-properties/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-sticky-regex/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-template-literals/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-strict-mode/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-typescript/src/enum.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-typescript/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-typescript/src/namespace.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-typeof-symbol/src/index.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-unicode-escapes/src/index.js'...
[16:25:28] Compiling 'packages/babel-polyfill/src/index.js'...
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db
[16:25:28] Compiling 'packages/babel-polyfill/src/noConflict.js'...
[16:25:28] Compiling 'packages/babel-plugin-transform-unicode-regex/src/index.js'...
[16:25:28] Compiling 'packages/babel-preset-flow/src/index.js'...
[16:25:28] Compiling 'packages/babel-preset-react/src/index.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/available-plugins.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/debug.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/filter-items.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/get-option-specific-excludes.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/index.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/module-transformations.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/normalize-options.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/options.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/plugins-compat-data.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/targets-parser.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/types.js'...
[16:25:28] Compiling 'packages/babel-preset-env/src/utils.js'...
[16:25:28] Compiling 'packages/babel-register/src/browser.js'...
[16:25:28] Compiling 'packages/babel-register/src/cache.js'...
[16:25:28] Compiling 'packages/babel-register/src/index.js'...
[16:25:28] Compiling 'packages/babel-register/src/node.js'...
[16:25:28] Compiling 'packages/babel-preset-typescript/src/index.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/babel-package-shim.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/index.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/preset-es2015.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/preset-stage-0.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/preset-stage-1.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/preset-stage-2.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/preset-stage-3.js'...
[16:25:28] Compiling 'packages/babel-standalone/src/transformScriptTags.js'...
[16:25:28] Compiling 'packages/babel-template/src/builder.js'...
[16:25:28] Compiling 'packages/babel-template/src/formatters.js'...
[16:25:28] Compiling 'packages/babel-template/src/index.js'...
[16:25:28] Compiling 'packages/babel-template/src/literal.js'...
[16:25:28] Compiling 'packages/babel-template/src/options.js'...
[16:25:28] Compiling 'packages/babel-template/src/parse.js'...
[16:25:28] Compiling 'packages/babel-template/src/populate.js'...
[16:25:28] Compiling 'packages/babel-template/src/string.js'...
[16:25:28] Compiling 'packages/babel-traverse/src/cache.js'...
[16:25:28] Compiling 'packages/babel-traverse/src/context.js'...
[16:25:28] Compiling 'packages/babel-traverse/src/hub.js'...
[16:25:28] Compiling 'packages/babel-traverse/src/index.js'...
[16:25:28] Compiling 'packages/babel-traverse/src/visitors.js'...
[16:25:28] Compiling 'packages/babel-types/src/index.js'...
[16:25:28] Compiling 'eslint/babel-eslint-parser/src/convert/convertAST.js'...
[16:25:28] Compiling 'eslint/babel-eslint-parser/src/convert/convertComments.js'...
[16:25:28] Compiling 'eslint/babel-eslint-parser/src/convert/convertTokens.js'...
[16:25:28] Compiling 'eslint/babel-eslint-parser/src/convert/index.js'...
[16:25:28] Compiling 'eslint/babel-eslint-plugin/src/rules/new-cap.js'...
[16:25:28] Compiling 'eslint/babel-eslint-plugin/src/rules/no-invalid-this.js'...
[16:25:28] Compiling 'eslint/babel-eslint-plugin/src/rules/no-unused-expressions.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin/src/rules/object-curly-spacing.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin/src/rules/semi.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin-development/src/rules/no-deprecated-clone.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin-development/src/rules/no-undefined-identifier.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin-development/src/rules/plugin-name.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin-development/src/utils/get-export-name.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin-development/src/utils/get-reference-origin.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin-development/src/utils/is-babel-plugin-factory.js'...
[16:25:29] Compiling 'eslint/babel-eslint-plugin-development/src/utils/is-from-babel-types.js'...
[16:25:29] Compiling 'packages/babel-cli/src/babel/dir.js'...
[16:25:29] Compiling 'packages/babel-cli/src/babel/file.js'...
[16:25:29] Compiling 'packages/babel-cli/src/babel/index.js'...
[16:25:29] Compiling 'packages/babel-cli/src/babel/options.js'...
[16:25:29] Compiling 'packages/babel-cli/src/babel/util.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/caching.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/config-chain.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/config-descriptors.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/full.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/index.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/item.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/partial.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/pattern-to-regex.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/plugin.js'...
[16:25:29] Compiling 'packages/babel-core/src/config/util.js'...
[16:25:29] Compiling 'packages/babel-core/src/gensync-utils/async.js'...
[16:25:29] Compiling 'packages/babel-core/src/gensync-utils/fs.js'...
[16:25:29] Compiling 'packages/babel-core/src/gensync-utils/resolve.js'...
[16:25:29] Compiling 'packages/babel-core/src/parser/index.js'...
[16:25:29] Compiling 'packages/babel-core/src/tools/build-external-helpers.js'...
[16:25:29] Compiling 'packages/babel-core/src/transformation/block-hoist-plugin.js'...
[16:25:29] Compiling 'packages/babel-core/src/transformation/index.js'...
[16:25:29] Compiling 'packages/babel-core/src/transformation/normalize-file.js'...
[16:25:29] Compiling 'packages/babel-core/src/transformation/normalize-opts.js'...
[16:25:29] Compiling 'packages/babel-core/src/transformation/plugin-pass.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/base.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/classes.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/expressions.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/flow.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/index.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/jsx.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/methods.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/modules.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/statements.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/template-literals.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/types.js'...
[16:25:29] Compiling 'packages/babel-generator/src/generators/typescript.js'...
[16:25:29] Compiling 'packages/babel-generator/src/node/index.js'...
[16:25:29] Compiling 'packages/babel-generator/src/node/parentheses.js'...
[16:25:29] Compiling 'packages/babel-generator/src/node/whitespace.js'...
[16:25:29] Compiling 'packages/babel-parser/src/parser/base.js'...
[16:25:29] Compiling 'packages/babel-parser/src/parser/comments.js'...
[16:25:29] Compiling 'packages/babel-parser/src/parser/error-message.js'...
[16:25:29] Compiling 'packages/babel-parser/src/parser/error.js'...
[16:25:29] Compiling 'packages/babel-parser/src/parser/expression.js'...
[16:25:29] Compiling 'packages/babel-parser/src/parser/index.js'...
[16:25:30] Compiling 'packages/babel-parser/src/parser/lval.js'...
[16:25:30] Compiling 'packages/babel-parser/src/parser/node.js'...
[16:25:30] Compiling 'packages/babel-parser/src/parser/statement.js'...
[16:25:30] Compiling 'packages/babel-parser/src/parser/util.js'...
[16:25:30] Compiling 'packages/babel-parser/src/plugins/estree.js'...
[16:25:30] Compiling 'packages/babel-parser/src/plugins/flow.js'...
[16:25:30] Compiling 'packages/babel-parser/src/plugins/placeholders.js'...
[16:25:30] Compiling 'packages/babel-parser/src/plugins/v8intrinsic.js'...
[16:25:30] Compiling 'packages/babel-parser/src/tokenizer/context.js'...
[16:25:30] Compiling 'packages/babel-parser/src/tokenizer/index.js'...
[16:25:30] Compiling 'packages/babel-parser/src/tokenizer/state.js'...
[16:25:30] Compiling 'packages/babel-parser/src/tokenizer/types.js'...
[16:25:30] Compiling 'packages/babel-parser/src/util/class-scope.js'...
[16:25:30] Compiling 'packages/babel-parser/src/util/identifier.js'...
[16:25:30] Compiling 'packages/babel-parser/src/util/location.js'...
[16:25:30] Compiling 'packages/babel-parser/src/util/production-parameter.js'...
[16:25:30] Compiling 'packages/babel-parser/src/util/scope.js'...
[16:25:30] Compiling 'packages/babel-parser/src/util/scopeflags.js'...
[16:25:30] Compiling 'packages/babel-parser/src/util/whitespace.js'...
[16:25:30] Compiling 'packages/babel-plugin-transform-runtime/src/get-runtime-path/browser.js'...
[16:25:30] Compiling 'packages/babel-plugin-transform-runtime/src/get-runtime-path/index.js'...
[16:25:30] Compiling 'packages/babel-standalone/src/generated/plugins.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/scope/binding.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/scope/index.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/ancestry.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/comments.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/context.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/conversion.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/evaluation.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/family.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/index.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/introspection.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/modification.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/removal.js'...
[16:25:30] Compiling 'packages/babel-traverse/src/path/replacement.js'...
[16:25:30] Compiling 'packages/babel-types/src/asserts/assertNode.js'...
[16:25:30] Compiling 'packages/babel-types/src/builders/builder.js'...
[16:25:30] Compiling 'packages/babel-types/src/clone/clone.js'...
[16:25:31] Compiling 'packages/babel-types/src/clone/cloneDeep.js'...
[16:25:31] Compiling 'packages/babel-types/src/clone/cloneDeepWithoutLoc.js'...
[16:25:31] Compiling 'packages/babel-types/src/clone/cloneNode.js'...
[16:25:31] Compiling 'packages/babel-types/src/clone/cloneWithoutLoc.js'...
[16:25:31] Compiling 'packages/babel-types/src/comments/addComment.js'...
[16:25:31] Compiling 'packages/babel-types/src/comments/addComments.js'...
[16:25:31] Compiling 'packages/babel-types/src/comments/inheritInnerComments.js'...
[16:25:31] Compiling 'packages/babel-types/src/comments/inheritLeadingComments.js'...
[16:25:31] Compiling 'packages/babel-types/src/comments/inheritTrailingComments.js'...
[16:25:31] Compiling 'packages/babel-types/src/comments/inheritsComments.js'...
[16:25:31] Compiling 'packages/babel-types/src/comments/removeComments.js'...
[16:25:31] Compiling 'packages/babel-types/src/constants/index.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/ensureBlock.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/gatherSequenceExpressions.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toBindingIdentifierName.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toBlock.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toComputedKey.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toExpression.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toIdentifier.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toKeyAlias.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toSequenceExpression.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/toStatement.js'...
[16:25:31] Compiling 'packages/babel-types/src/converters/valueToNode.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/core.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/es2015.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/experimental.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/flow.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/index.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/jsx.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/misc.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/placeholders.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/typescript.js'...
[16:25:31] Compiling 'packages/babel-types/src/definitions/utils.js'...
[16:25:31] Compiling 'packages/babel-types/src/modifications/appendToMemberExpression.js'...
[16:25:31] Compiling 'packages/babel-types/src/modifications/inherits.js'...
[16:25:31] Compiling 'packages/babel-types/src/modifications/prependToMemberExpression.js'...
[16:25:31] Compiling 'packages/babel-types/src/modifications/removeProperties.js'...
[16:25:31] Compiling 'packages/babel-types/src/modifications/removePropertiesDeep.js'...
[16:25:31] Compiling 'packages/babel-types/src/retrievers/getBindingIdentifiers.js'...
[16:25:31] Compiling 'packages/babel-types/src/retrievers/getOuterBindingIdentifiers.js'...
[16:25:31] Compiling 'packages/babel-types/src/traverse/traverse.js'...
[16:25:31] Compiling 'packages/babel-types/src/traverse/traverseFast.js'...
[16:25:31] Compiling 'packages/babel-types/src/utils/inherit.js'...
[16:25:31] Compiling 'packages/babel-types/src/utils/shallowEqual.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/buildMatchMemberExpression.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/is.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isBinding.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isBlockScoped.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isImmutable.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isLet.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isNode.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isNodesEquivalent.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isPlaceholderType.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isReferenced.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isScope.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isSpecifierDefault.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isType.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isValidES3Identifier.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isValidIdentifier.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/isVar.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/matchesPattern.js'...
[16:25:31] Compiling 'packages/babel-types/src/validators/validate.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/helpers/config-api.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/helpers/environment.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/configuration.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/import.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/index-browser.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/index.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/module-types.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/package.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/plugins.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/types.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/files/utils.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/validation/option-assertions.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/validation/options.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/validation/plugins.js'...
[16:25:31] Compiling 'packages/babel-core/src/config/validation/removed.js'...
[16:25:31] Compiling 'packages/babel-core/src/parser/util/missing-plugin-helper.js'...
[16:25:31] Compiling 'packages/babel-core/src/transformation/file/file.js'...
[16:25:31] Compiling 'packages/babel-core/src/transformation/file/generate.js'...
[16:25:31] Compiling 'packages/babel-core/src/transformation/file/merge-map.js'...
[16:25:31] Compiling 'packages/babel-parser/src/plugins/typescript/index.js'...
[16:25:31] Compiling 'packages/babel-parser/src/plugins/typescript/scope.js'...
[16:25:31] Compiling 'packages/babel-parser/src/plugins/jsx/index.js'...
[16:25:31] Compiling 'packages/babel-parser/src/plugins/jsx/xhtml.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/corejs2/built-in-definitions.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/corejs2/entry-plugin.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/corejs2/get-platform-specific-default.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/corejs2/usage-plugin.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/regenerator/entry-plugin.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/regenerator/usage-plugin.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/corejs3/built-in-definitions.js'...
[16:25:31] Compiling 'packages/babel-preset-env/src/polyfills/corejs3/entry-plugin.js'...
[16:25:32] Compiling 'packages/babel-preset-env/src/polyfills/corejs3/usage-plugin.js'...
[16:25:32] Compiling 'packages/babel-traverse/src/scope/lib/renamer.js'...
[16:25:32] Compiling 'packages/babel-traverse/src/path/inference/index.js'...
[16:25:32] Compiling 'packages/babel-traverse/src/path/inference/inferer-reference.js'...
[16:25:32] Compiling 'packages/babel-traverse/src/path/inference/inferers.js'...
[16:25:32] Compiling 'packages/babel-traverse/src/path/lib/hoister.js'...
[16:25:32] Compiling 'packages/babel-traverse/src/path/lib/removal-hooks.js'...
[16:25:32] Compiling 'packages/babel-traverse/src/path/lib/virtual-types.js'...
[16:25:32] Compiling 'packages/babel-types/src/asserts/generated/index.js'...
[16:25:32] Compiling 'packages/babel-types/src/builders/flow/createFlowUnionType.js'...
[16:25:32] Compiling 'packages/babel-types/src/builders/flow/createTypeAnnotationBasedOnTypeof.js'...
[16:25:32] Compiling 'packages/babel-types/src/builders/react/buildChildren.js'...
[16:25:32] Compiling 'packages/babel-types/src/builders/generated/index.js'...
[16:25:32] Compiling 'packages/babel-types/src/builders/typescript/createTSUnionType.js'...
[16:25:32] Compiling 'packages/babel-types/src/constants/generated/index.js'...
[16:25:32] Compiling 'packages/babel-types/src/modifications/flow/removeTypeDuplicates.js'...
[16:25:32] Compiling 'packages/babel-types/src/modifications/typescript/removeTypeDuplicates.js'...
[16:25:32] Compiling 'packages/babel-types/src/utils/react/cleanJSXElementLiteralChild.js'...
[16:25:32] Compiling 'packages/babel-types/src/validators/generated/index.js'...
[16:25:32] Compiling 'packages/babel-types/src/validators/react/isCompatTag.js'...
[16:25:32] Compiling 'packages/babel-types/src/validators/react/isReactComponent.js'...
[16:25:32] Finished 'build-no-bundle' after 7.76 s
# Ensure that build artifacts for types are created during local
# development too.
/Applications/Xcode.app/Contents/Developer/usr/bin/make generate-type-helpers
yarn --silent node packages/babel-types/scripts/generateTypeHelpers.js
Generating @babel/types dynamic functions
  ✔ Generated builders
  ✔ Generated validators
  ✔ Generated asserts
  ✔ Generated constants
/Applications/Xcode.app/Contents/Developer/usr/bin/make build-typings
yarn --silent node packages/babel-types/scripts/generators/flow.js > packages/babel-types/lib/index.js.flow
yarn --silent node packages/babel-types/scripts/generators/typescript.js > packages/babel-types/lib/index.d.ts
BABEL_ENV=development yarn --silent gulp watch
[16:25:35] Using gulpfile ~/campus-virtual/2122/learning/compiler-learning/babel-tanhauhau/gulpfile.js
[16:25:35] Starting 'watch'...
[16:25:35] Starting 'build-no-bundle'...
[16:25:35] Compiling 'packages/babel-types/src/asserts/generated/index.js'...
@babel/preset-env: `DEBUG` option

Using targets:
{
  "node": "21.2"
}

Using modules transform: false

Using plugins:
  syntax-numeric-separator { "node":"21.2" }
  proposal-class-properties { "node":"21.2" }
  proposal-private-methods { "node":"21.2" }
  syntax-nullish-coalescing-operator { "node":"21.2" }
  syntax-optional-chaining { "node":"21.2" }
  syntax-json-strings { "node":"21.2" }
  syntax-optional-catch-binding { "node":"21.2" }
  syntax-async-generators { "node":"21.2" }
  syntax-object-rest-spread { "node":"21.2" }
  syntax-dynamic-import { "node":"21.2" }

Using polyfills: No polyfills were added, since the `useBuiltIns` option was not set.
[16:25:36] Compiling 'packages/babel-types/src/builders/generated/index.js'...
[16:25:36] Compiling 'packages/babel-types/src/constants/generated/index.js'...
[16:25:36] Compiling 'packages/babel-types/src/validators/generated/index.js'...
[16:25:36] Finished 'build-no-bundle' after 1.19 s
[16:25:36] Starting 'watch'...
```
And it hangs here.

> Tracing the stack trace, led us to `packages/babel-parser/src/parser/expression.js` where it throws `this.unexpected()`.

> Let us add some `console.log`: